---
import boxers from "../boxers.json";
import Notice from "../Notice.astro";
import Location from "../Location.astro";
---


<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<title>La Velada del Año - Un Proyecto de Ibai Llanos</title>

		<link rel="preload" href="/fonts/boxing.woff2" as="font" type="font/woff2" crossorigin="anonymous" />
		<link rel="preload" href="/img/logo.webp" as="img" type="image/webp" crossorigin="anonymous" />
	</head>
	<body>
		<Notice/>
		<main class="relative">
			<!-- BACKGROUND FOR HEADER AND BOXERS -->
			<div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))]
			from-[#131313] via-zinc-850 to-zinc-950">
			</div>
			<div class="absolute inset-0 flex gap-x-3 left-1/2 -translate-x-1/2 justify-center opacity-20 blur-sm">
				<div class="w-2 h-full left-1/2 -translate-x-1/2 bg-gradient-to-b from-gray-900 via-gray-300 to-gray-900"></div>
				<div class="w-2 h-full left-1/2 -translate-x-1/2 bg-gradient-to-b from-gray-900 via-gray-300 to-gray-900"></div>
				<div class="w-2 h-full left-1/2 -translate-x-1/2 bg-gradient-to-b from-gray-900 via-gray-300 to-gray-900"></div>
			</div>

			<!-- LOGO -->
			<header class="relative">
				<div id="logo" class="md:absolute z-10 md:left-1/2 md:-translate-x-1/2 flex flex-col gap-1 justify-center items-center">
					<img class="w-36 lg:w-56 h-auto md:mt-9 animate-fade-down animate-delay-1000" src="/img/logo.webp" alt="Logo de la Velada del Año, tercera edición" />
					<h1 class="font-boxing text-2xl lg:text-3xl text-center animate-fade-down animate-delay-[1200ms]">
						<span class="bg-clip-text text-transparent bg-gradient-to-b from-white via-gray-400 to-white leading-relaxed inline-block">
							LA VELADA DEL AÑO
						</span>
						<span class="bg-clip-text text-transparent bg-gradient-to-b from-yellow-300 via-amber-700 to-yellow-300 leading-relaxed inline-block">
							III
						</span>
					</h1>
				</div>
			</header>

			<!-- BOXEADORES -->
			<section class="relative">
				<div
					id="boxers"
					class={`
						flex justify-between relative
						h-[40vh] md:h-[75vh] lg:h-screen md:pt-4 lg:pt-24 border-b border-white/10 overflow-hidden
						[&>div>img]:absolute [&>div>img]:bottom-0 [&>div>img]:w-auto
					`}
				>
					<div class="relative w-full">
						<img
							class="left-0 h-full z-50"
							srcset="/boxers/coscu-mobile.webp 767w, /boxers/coscu.webp"
							sizes="(max-width: 767px) 767px, 100vw"
							alt="Coscu"
							style={boxers.coscu.clip}
							fetchpriority="high"
						/>
						<img
							class="left-[5%] h-[80%] z-40 animate-fade-right"
							srcset="/boxers/mayichi-mobile.webp 767w, /boxers/mayichi.webp"
							sizes="(max-width: 767px) 767px, 100vw"
							alt="Mayichi"
							style={boxers.mayichi.clip}
						/>
						<img
							class="left-[15%] h-[75%] z-30 animate-fade-right animate-delay-300"
							srcset="/boxers/viruzz-mobile.webp 767w, /boxers/viruzz.webp"
							sizes="(max-width: 767px) 767px, 100vw"
							alt="Viruzz"
							style={boxers.viruzz.clip}
						/>
						<img
							class="left-[28%] h-[69%] z-20 animate-fade-right animate-delay-500"
							srcset="/boxers/fernanfloo-mobile.webp 767w, /boxers/fernanfloo.webp"
							sizes="(max-width: 767px) 767px, 100vw"
							alt="Fernanfloo"
							style={boxers.fernanfloo.clip}
						/>
						<img
							class="left-[40%] h-[66%] z-10 animate-fade-right animate-delay-700"
							srcset="/boxers/larivers-mobile.webp 767w, /boxers/larivers.webp"
							sizes="(max-width: 767px) 767px, 100vw"
							alt="Larivers"
							style={boxers.larivers.clip}
						/>
						<img
							class="left-[46%] h-[61%] z-0 animate-fade-right animate-delay-1000"
							srcset="/boxers/papigavi-mobile.webp 767w, /boxers/papigavi.webp"
							sizes="(max-width: 767px) 767px, 100vw"
							alt="Papigavi"
							style={boxers.papigavi.clip}
							fetchpriority="low"
						/>
					</div>
					<div class="relative w-full">
						<img
							class="right-0 h-full z-50"
							srcset="/boxers/german-mobile.webp 767w, /boxers/german.webp"
							sizes="(max-width: 767px) 767px, 100vw"
							alt="German"
							style={boxers.german.clip}
							fetchpriority="high"
						/>
						<img
							class="right-[7%] h-[80%] z-40 animate-fade-left"
							srcset="/boxers/amouranth-mobile.webp 767w, /boxers/amouranth.webp"
							sizes="(max-width: 767px) 767px, 100vw"
							alt="Amouranth"
							style={boxers.amouranth.clip}
						/>
						<img
							class="right-[17%] h-[76%] z-30 animate-fade-left animate-delay-300"
							srcset="/boxers/shelao-mobile.webp 767w, /boxers/shelao.webp"
							sizes="(max-width: 767px) 767px, 100vw"
							alt="Shelao"
							style={boxers.shelao.clip}
						/>
						<img
							class="right-[28%] h-[69%] z-20 animate-fade-left animate-delay-500"
							srcset="/boxers/luzu-mobile.webp 767w, /boxers/luzu.webp"
							sizes="(max-width: 767px) 767px, 100vw"
							alt="Luzu"
							style={boxers.luzu.clip}
						/>
						<img
							class="right-[39%] h-[65%] z-10 animate-fade-left animate-delay-700"
							srcset="/boxers/rivers-mobile.webp 767w, /boxers/rivers.webp"
							sizes="(max-width: 767px) 767px, 100vw"
							alt="Rivers"
							style={boxers.rivers.clip}
						/>
						<img
							class="right-[46%] h-[60%] z-0 animate-fade-left animate-delay-1000"
							srcset="/boxers/ampeter-mobile.webp 767w, /boxers/ampeter.webp"
							sizes="(max-width: 760px) 760px, 100vw"
							alt="Ampeter"
							style={boxers.ampeter.clip}
							fetchpriority="low"
						/>
					</div>
				</div>
			</section>
		</main>

		<!-- INFO EVENTO -->
		<section id="info" class="lg:absolute lg:bottom-16 z-50 mx-auto lg:left-1/2 lg:-translate-x-1/2 ">
			<div class="flex flex-col">
				<div class="px-3 pt-2 pb-1 bg-white text-black text-center">
					<h2 class="font-boxing text-5xl">1 de JULIO</h2>
				</div>
				<div class="px-3 pt-2 pb-1 bg-black text-white text-center">
					<a class="font-boxing text-[29px]" href="https://twitch.tv/ibai" target="_blank" rel="noopener noreferrer">
						twitch.tv/
						<span class="bg-clip-text text-transparent bg-gradient-to-b from-yellow-300 via-amber-700 to-yellow-300 leading-relaxed inline-block">
							IBAI
						</span>
					</a>
				</div>
				<div class="px-3 pt-2 pb-1 bg-white text-black text-center">
					<a
						id="tickets"
						class="font-boxing text-[20px]"
						href="https://www.entradas.com/artist/la-velada-del-ano/?affiliate=LVL"
						target="_blank"
						rel="noopener noreferrer"
					>
						cívitas metropolitano
					</a>
				</div>
			</div>
		</section>

		<!-- INFO COMBATE -->
		<section id="combat" class="absolute z-50 mx-auto left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 flex flex-col opacity-0">
			<div class="px-3 pt-4 pb-2 bg-black text-white text-center">
				<h3 class="font-boxing uppercase text-6xl"> </h3>
			</div>
			<span class="left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 block absolute font-boxing text-[40px] bg-clip-text text-yellow-300 leading-relaxed [text-shadow:2px_2px_0px_#d97706,4px_4px_0px_#7f1d1d,6px_6px_0px_#0c0a09]">
				VS
			</span>
			<div class="px-3 pt-4 pb-2 bg-white text-black text-center">
				<h3 class="font-boxing uppercase text-6xl"> </h3>
			</div>
		</section>

		<Location />
		
		<footer class="relative">
			<!-- BACKGROUND -->
			<div class="absolute inset-0 bg-[url('img/footer-background.webp')] bg-no-repeat  bg-bottom bg-cover opacity-[40%] -z-10"></div>
			
			<!-- CONTENT -->
			<section class="mx-auto w-full lg:w-5/6 px-20 pt-12 lg:pt-20 pb-8">
				<div class="flex flex-col md:flex-row gap-y-6 justify-between items-center">
					<nav class="flex flex-grow gap-x-4 justify-start basis-0">
						<a
							href="https://www.instagram.com/infolavelada/"
							target="_blank"
							rel="noopener noreferrer"
						>
							<svg id="igIcon" class="w-8 h-8 text-gray-100 inline-block transition" xmlns="http://www.w3.org/2000/svg" width="800" height="800" viewBox="0 0 20 20" >
								<defs>
									<linearGradient id="goldenGradient" x1="0" x2="0" y1="0" y2="1">
										<stop offset="0%" stop-color="#fde047"/>
										<stop offset="50%" stop-color="#b45309"/>
										<stop offset="100%" stop-color="#fde047"/>
									</linearGradient>
								</defs>
								<path
									fill-rule="evenodd"
									d="M5.869652.12273C4.241769.19618 2.830805.5942 1.691486 1.72871.548187 2.86918.155147 4.28558.081514 5.89653c-.045772 1.00548-.313437 8.60165.462693 10.59375.52339 1.34394 1.55425 2.37721 2.910487 2.90228.632844.24616 1.355242.41291 2.414958.46155 8.860815.401 12.145437.18263 13.53053-3.36383.245774-.63128.414931-1.35288.461698-2.40997.40498-8.88354-.065673-10.80914-1.609972-12.3516C17.027016.50685 15.5862-.32492 5.869652.12273m.081593 17.94475c-.970162-.04368-1.496538-.20547-1.847786-.34145-.883594-.34343-1.547285-1.00448-1.888583-1.88291-.591053-1.51368-.39503-8.70289-.342293-9.86619.051742-1.13948.282591-2.18069 1.086582-2.98467.995038-.99258 2.280627-1.47894 11.033979-1.08389 1.142304.05161 2.186099.28189 2.99208 1.08389.995038.99257 1.488577 2.28788 1.086582 11.00765-.043782.96776-.205973 1.49283-.342293 1.84321-.90051 2.30773-2.97218 2.62833-11.778268 2.22436m8.138418-13.37792c0 .65709.534335 1.19109 1.194046 1.19109.65971 0 1.195041-.534 1.195041-1.19109 0-.65708-.535331-1.19109-1.195041-1.19109-.659711 0-1.194046.53401-1.194046 1.19109m-9.22699 5.29836c0 2.81494 2.287593 5.09687 5.109521 5.09687 2.821929 0 5.109522-2.28193 5.109522-5.09687s-2.287593-5.09587-5.109522-5.09587c-2.821928 0-5.109521 2.28093-5.109521 5.09587m1.793059 0c0-1.82633 1.484597-3.30825 3.316462-3.30825 1.831866 0 3.316463 1.48192 3.316463 3.30825 0 1.82733-1.484597 3.30924-3.316463 3.30924-1.831865 0-3.316462-1.48191-3.316462-3.30924">
								</path>
							</svg>
						</a>
						<a
							href="https://www.twitter.com/infoLaVelada"
							target="_blank"
							rel="noopener noreferrer"
						>
							<svg id="twitterIcon" class="w-8 h-8 transition" xmlns="http://www.w3.org/2000/svg" width="800" height="800" viewBox="0 -1 20 20" >
								<path
									fill-rule="evenodd"
									d="M6.29 16c7.547 0 11.675-6.15635 11.675-11.49454 0-.17525 0-.34951-.012-.52279.803-.57104 1.496-1.27991 2.047-2.09117-.748.32687-1.543.5415-2.356.63601.856-.50507 1.497-1.29861 1.804-2.23491-.806.47061-1.687.8024-2.606.98061-1.554-1.62647-4.153-1.70523-5.806-.17525-1.065.98651-1.518 2.45742-1.187 3.86039C6.55 4.79492 3.476 3.261 1.392.73762.303 2.58363.86 4.94457 2.663 6.12996 2.01 6.11125 1.371 5.93797.8 5.62489v.05119C.801 7.5989 2.178 9.2549 4.092 9.63591c-.604.16245-1.238.18608-1.852.06892.537 1.64616 2.078 2.77346 3.833 2.80595-1.453 1.12435-3.248 1.73476-5.096 1.7328-.326-.00099-.652-.0197-.977-.05809C1.877 15.37088 4.06 16 6.29 15.99705">
								</path>
							</svg>
						</a>
					</nav>
					<img
						class="w-32 sm:w-40 h-auto"
						src="img/logo-velada-iii.webp"
						alt="Logo Velada del Año"
						width="400"
						height="400"
					/>
					<div class="flex flex-grow justify-end basis-0">
						<img
							class="w-60 h-auto"
							src="img/patrocinadores.png"
							width="Patrocinadores de la Velada del Año"
							height=""
					/>
					</div>
				</div>
				<p class="text-center text-xs text-gray-100 pt-16"> &copy; 2023 La Velada del Año | Todos los derechos reservados. </p>
			</section>
		</footer>
	</body>
</html>

<style is:global>
	body {
		background: #131313;
	}

	/* Font to use */
	@font-face {
		font-family: 'Boxing';
		src: url('/fonts/boxing.woff2') format('woff2');
		font-weight: bold;
	}
	/* Fallback font */
	@font-face {
		font-family: 'Adjusted Arial Narrow Fallback';
		src: local(Arial Narrow);
		size-adjust: 86%;
		ascent-override: 114%;
		descent-override: 4%;
		line-gap-override: 22%;
	}

	/* Iconos footer */
	#igIcon, #twitterIcon {
		fill: #f9fafb;
	}
	#igIcon:hover, #twitterIcon:hover {
		fill: url(#goldenGradient);
	}
</style>

<script>
	// Info tickets
	const $tickets = document.querySelector('#tickets') as HTMLElement
	$tickets.addEventListener("mouseenter", () => {
		$tickets.innerText = "sold out"
		$tickets.style.color = "#f59e0b"
		$tickets.style.letterSpacing = "0.15em"
		$tickets.style.textTransform = "uppercase"
	})
	$tickets.addEventListener("mouseleave", () => {
		$tickets.innerText = "cívitas metropolitano"
		$tickets.style.color = "#000"
		$tickets.style.letterSpacing = "0em"
		$tickets.style.textTransform = "lowercase"
	})

	// Info boxers
	const $boxers = document.querySelector('#boxers')
	const $boxersImages = $boxers.querySelectorAll('img')
	const $logo = document.querySelector('#logo') as HTMLElement
	const $info = document.querySelector('#info') as HTMLElement
	const $combat = document.querySelector('#combat') as HTMLElement

	$boxersImages.forEach(($img) => {
		
		$img.addEventListener("mouseenter", () => {
			// Get all images (left and right) and the current index
			const sectionImages = $img.parentNode.children
			const position = Array.from(sectionImages).indexOf($img)

			// Left and right position of current boxers
			const [leftBoxer, rightBoxer] = [
				$boxersImages[position],
				$boxersImages[position + $boxersImages.length / 2]
			]

			// Hide Logo and Info
			$logo.style.opacity = "0"
			$logo.style.transition = "all .3s ease-in-out"
			$info.style.opacity = "0"
			$info.style.transition = "all .3s ease-in-out"

			// Show Combat
			$combat.style.opacity = "1"
			$combat.style.transition = "all .3s ease-in-out"
			const [firstBoxerName, secondBoxerName] = $combat.querySelectorAll('h3')
			firstBoxerName.innerText = leftBoxer.alt
			secondBoxerName.innerText = rightBoxer.alt

			// Darken boxers
			$boxersImages.forEach($img => {
				$img.style.filter = "blur(2px) grayscale(.8)"
				$img.style.transition = "all 0.6s ease-in-out"
			})

			// Highlight current boxers
			leftBoxer.style.scale = "1.05"
			leftBoxer.style.filter = "contrast(1.1)"
			leftBoxer.style.transition = "all 0.3s ease-in-out"
			rightBoxer.style.scale = "1.05"
			rightBoxer.style.filter = "contrast(1.1)"
			rightBoxer.style.transition = "all 0.3s ease-in-out"
		})

		// Reset styles
		$img.addEventListener("mouseleave", () => {
			// Reset images
			$boxersImages.forEach(($img) => {
				$img.style.scale = "1"
				$img.style.filter = "none"
				$img.style.transition = "all .3s ease-in-out"
			})

			// Show Logo, Info
			$logo.style.opacity = "1"
			$logo.style.transition = "all .3s ease-in-out"
			$info.style.opacity = "1"
			$info.style.transition = "all .3s ease-in-out"

			// Hide Combat
			$combat.style.opacity = "0"
			$combat.style.transition = "all .3s ease-in-out"
		})
	})

</script>

